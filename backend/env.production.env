# =============================================
# AnuLunar Spiritual Intelligenceâ„¢
# Backend Environment Configuration
# =============================================

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_anon_key_here

# Swiss Ephemeris Service
SWISS_EPHEMERIS_URL=https://api.swissephemeris.com/v1/calculate
SWISS_EPHEMERIS_API_KEY=your_swiss_ephemeris_api_key

# Email Automation (Brevo)
BREVO_API_KEY=your_brevo_api_key
BREVO_ASTROLOGY_COMPLETE_TEMPLATE_ID=1
BREVO_FULL_REPORT_READY_TEMPLATE_ID=2
BREVO_WELCOME_TEMPLATE_ID=3

# Stripe Payment Processing
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key

# AnuLunar Sacred Pricing (in cents)
PRICE_COSMIC_BLUEPRINT_FOUNDATION=888
PRICE_LUNAR_TRANSMUTATION=1888
PRICE_CRYSTAL_CLARITY=4444
PRICE_FULL_SPECTRUM_CIRCLE=9999

# Geocoding Service (for birth location lookup)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
OPENCAGE_API_KEY=your_opencage_api_key

# Report Generation
REPORT_GENERATION_URL=https://api.anulunar.com/v1/generate-report
LUNARIS_AI_SERVICE_URL=https://api.anulunar.com/v1/lunaris-synthesis

# File Storage (for PDF reports) - Using Supabase Storage
SUPABASE_STORAGE_BUCKET=anulunar-reports
SUPABASE_STORAGE_URL=https://your-project.supabase.co/storage/v1
REPORT_STORAGE_PATH=spiritual-reports

# Application Settings
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,https://anulunar.vercel.app,https://anulunar.com

# Logging
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# Swiss Ephemeris Processor Settings
EPHEMERIS_POLL_INTERVAL_MS=30000      # 30 seconds
EPHEMERIS_MAX_CONCURRENT=3            # Process max 3 charts at once
EPHEMERIS_TIMEOUT_MS=60000            # 1 minute timeout per calculation

# Webhook Security
WEBHOOK_SECRET=your_secure_webhook_secret_for_swiss_ephemeris

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# Cache Settings (Redis - optional)
REDIS_URL=redis://localhost:6379
CACHE_TTL_SECONDS=3600  # 1 hour

# Development Settings
ENABLE_SWAGGER_DOCS=true
ENABLE_MOCK_SWISS_EPHEMERIS=false
MOCK_DELAY_MS=2000

# Production Security
JWT_SECRET=your_jwt_secret_key_for_api_authentication
API_KEY_HEADER=X-AnuLunar-API-Key
REQUIRE_API_KEY=false  # Set to true in production

# Email Templates
EMAIL_FROM_ADDRESS=wisdom@anulunar.com
EMAIL_FROM_NAME=AnuLunar Spiritual Intelligence
EMAIL_REPLY_TO=support@anulunar.com

# Report Template IDs (Brevo)
TEMPLATE_NUMEROLOGY_READY=4
TEMPLATE_CELTIC_MOON_READY=5
TEMPLATE_ASTROLOGY_READY=6
TEMPLATE_INNER_CHILD_REPORT=7
TEMPLATE_KARMIC_BLUEPRINT_REPORT=8

# Sacred Pricing Configuration
ENABLE_SACRED_PRICING=true
CURRENCY=CAD
TAX_RATE=0.13  # Ontario HST

# Feature Flags
ENABLE_CELTIC_MOON_SIGNS=true
ENABLE_HUMAN_DESIGN=true
ENABLE_NUMEROLOGY=true
ENABLE_TAROT_INTEGRATION=true
ENABLE_LUNARIS_SYNTHESIS=true

# Admin Panel
ADMIN_EMAIL=melissa@connectedbycommunity.com
ADMIN_PASSWORD_HASH=your_bcrypt_hashed_admin_password

# Monitoring & Analytics
SENTRY_DSN=your_sentry_dsn_for_error_tracking
GOOGLE_ANALYTICS_ID=your_ga_tracking_id
MIXPANEL_TOKEN=your_mixpanel_token

# Backup & Recovery - Using Supabase
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
SUPABASE_BACKUP_BUCKET=anulunar-backups